*, html {
   margin: 0;
   padding: 0;

   box-sizing: border-box;
}


body {
   height: 100dvh;
}

main {
   --main-bg-color: black;

   display: grid;
   grid-template-columns: 1fr 1fr 1fr;

   place-content: center;

   width: 100%;
   height: 100%;

   background-color: var(--main-bg-color);
}

section {
   --section-border-color: white;
   --section-border-thickness: 1px;
   --section-border: var(--section-border-thickness) solid var(--section-border-color);
   
   display: grid;
   place-content: center;

   position: relative;

   border: var(--section-border);
   border-radius: 2.5em;
   aspect-ratio: 1/1;
   width: 30vw;

   transform: perspective(25em);
   transform-style: preserve-3d;
}

div {
   --door-border-color: white;
   --door-border-thickness: 1px;
   --door-border: var(--door-border-thickness) solid var(--door-border-color);

   position: absolute;

   top: 50%;
   left: 50%;
   
   width: 25vw;
   aspect-ratio: 1.6/1;

   border: var(--door-border);

   transition: 1s;

   transform: translateX(-50%) translateY(-50%);
}

section:first-of-type div:nth-of-type(1){
   animation: rotateDoor1 4s infinite linear;
}

section:first-of-type div:nth-of-type(2) {
   animation: rotateDoor2 4s infinite linear;
}

section:nth-of-type(2) div:nth-of-type(1) {
   animation: rotateDoor1 8s infinite linear;
}

section:nth-of-type(2) div:nth-of-type(2) {
   animation: rotateDoor2 8s infinite linear;
}

section:first-of-type div:nth-of-type(2),
section:nth-of-type(2) div:nth-of-type(2) {
   transform: translateX(-50%) translateY(-50%) rotateY(-90deg);
   perspective: 2px;
   transform-style: preserve-3d;
}

section:nth-of-type(2) div:nth-of-type(1)::after {
   content: "";
   width: 1em;
   position: absolute;
   bottom: 2em;
   left: 2em;
   aspect-ratio: 1/1;
   border-radius: 50%;
   background-color: #cccccc;
} 

section:nth-of-type(2) div:nth-of-type(1)::before {
   content: "";
   width: 2em;
   position: absolute;
   bottom: 0;
   left: 1.5em;
   aspect-ratio: 1/1;
   border-radius: .5em;
   background-color: #cccccc;
}

section:nth-of-type(3) div:nth-of-type(2) {
   width: 10vw;
   aspect-ratio: 1/1.55;
   border: 2px solid white;  
}

section:nth-of-type(3) div:nth-of-type(2)::after {
   content: "";
   width: .8em;
   position: absolute;
   bottom: 2.5em;
   left: 1.5em;
   aspect-ratio: 1/1;
   border-radius: 50%;
   background-color: white;
} 

section:nth-of-type(3) div:nth-of-type(2)::before {
   content: "";
   width: 1.5em;
   position: absolute;
   bottom: .8em;
   left: 1.2em;
   aspect-ratio: 1/1;
   border-radius: .5em;
   background-color: white;
}

@keyframes rotateDoor1 {
   from {
       transform: translateX(-50%) translateY(-50%) rotateY(0deg); 
   }
   to {
       transform: translateX(-50%) translateY(-50%) rotateY(360deg)  
   }
}

@keyframes rotateDoor2 {
   from {
       transform: translateX(-50%) translateY(-50%) rotateY(-90deg); 
   }
   to {
       transform: translateX(-50%) translateY(-50%) rotateY(270deg)  
   }
}

@media only screen and (max-width: 600px) {
   body {
       display: grid;
       place-content: center;
   }

   main {
       grid-template-columns: 1fr;
   }
   
   section {
       margin: 1.5em;
       width: 50vw;
   }
 }